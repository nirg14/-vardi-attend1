# מסמך אפיון - מערכת נוכחות תלמידים

## 1. מבוא

### 1.1 רקע
מערכת נוכחות תלמידים מיועדת לניהול ומעקב אחר נוכחות תלמידים בקורסים המחולקים לשתי רצועות לימוד. המערכת צריכה לאפשר עדכון נתונים תדיר באמצעות קבצי CSV חדשים, תוך שמירה על היסטוריית הנוכחות הקיימת. המערכת נועדה בעיקר לשימוש במכשירים ניידים, מאחר והמורים מסמנים נוכחות בתחילת השיעור באמצעות הטלפון הנייד שלהם.

### 1.2 מטרת המסמך
מסמך זה מגדיר את הדרישות הפונקציונליות והטכניות למערכת ניהול נוכחות תלמידים, על מנת לספק פתרון יעיל ואמין לניהול נוכחות בקורסים השונים.

### 1.3 קהל יעד
- מרצים ומתרגלים: סימון נוכחות בשיעורים
- מנהלי מערכת: ניהול הקורסים, התלמידים והמשתמשים
- צוות אדמיניסטרטיבי: הפקת דוחות וניתוח נתונים
- תלמידים: צפייה בנתוני הנוכחות האישיים שלהם (אופציונלי)

## 2. סקירה כללית של המערכת

### 2.1 תיאור כללי
המערכת תאפשר ניהול מידע של תלמידים ושיוכם לקורסים בשתי רצועות לימוד שונות. המערכת תהיה אינטרנטית ותספק גישה מהירה למורים לצורך סימון נוכחות בכל שיעור. המערכת תאפשר למנהל להעלות קבצי CSV חדשים לעדכון נתוני תלמידים וקורסים, ותאפשר הפקת דוחות שונים.

### 2.2 ארכיטקטורה כללית
המערכת תהיה מבוססת על ארכיטקטורת web אינטרנטית עם ממשק משתמש פשוט ונגיש מכל מכשיר (מחשב, טאבלט, נייד), המאפשר גישה מהירה למורים. המערכת תכלול:
- ממשק משתמש פשוט וידידותי (Frontend)
- שרת אפליקציה (Backend)
- בסיס נתונים
- מנגנון לקליטת וייבוא קבצי CSV (גישה למנהל בלבד)

### 2.3 מאפיינים עיקריים
1. ניהול תלמידים וקורסים
2. שיוך תלמידים לקורסים בשתי רצועות לימוד
3. סימון וניהול נוכחות בקורסים
4. ממשק מותאם במיוחד למכשירים ניידים לסימון נוכחות מהיר בכיתה
5. ייבוא ועדכון נתונים מקבצי CSV
6. הפקת דוחות וניתוח נתונים כולל דוח ייעודי להשוואת רצועות
7. ממשק משתמש פשוט עם שתי רמות גישה (מורה/מנהל)

## 3. דרישות פונקציונליות

### 3.1 ניהול תלמידים
1. **הוספת תלמיד חדש**:
   - מספר תלמיד (ייחודי)
   - שם משפחה
   - שם פרטי
   - פרטי קשר (אופציונלי)
   - שיוך לקורסים (רצועה ראשונה ושנייה)

2. **עדכון פרטי תלמיד**:
   - עדכון פרטים אישיים
   - עדכון שיוך לקורסים

3. **מחיקת תלמיד**:
   - הסרת תלמיד מהמערכת
   - שמירת היסטוריית נוכחות

4. **חיפוש וסינון תלמידים**:
   - חיפוש לפי מספר תלמיד
   - חיפוש לפי שם (פרטי או משפחה)
   - סינון לפי קורסים

### 3.2 ניהול קורסים
1. **הוספת קורס חדש**:
   - שם קורס
   - רצועה (ראשונה או שנייה)
   - מרצה אחראי
   - תיאור קורס (אופציונלי)

2. **עדכון פרטי קורס**:
   - עדכון שם ופרטי קורס
   - שינוי מרצה אחראי

3. **מחיקת קורס**:
   - הסרת קורס מהמערכת
   - טיפול בתלמידים המשויכים לקורס

4. **שיוך תלמידים לקורס**:
   - הוספת תלמידים לקורס מסוים
   - הסרת תלמידים מקורס

### 3.3 ניהול נוכחות
1. **סימון נוכחות**:
   - בחירת קורס ותאריך שיעור
   - סימון נוכחות/היעדרות לכל תלמיד
   - אפשרות לסימון איחור או יציאה מוקדמת
   - הערות לתלמיד ספציפי

2. **צפייה בהיסטוריית נוכחות**:
   - הצגת נוכחות לפי קורס ותאריך
   - הצגת נוכחות לפי תלמיד
   - סינון לפי תאריכים

3. **עדכון רטרואקטיבי**:
   - עדכון נוכחות לשיעורים קודמים
   - תיעוד שינויים בהיסטוריית נוכחות

### 3.4 ייבוא וייצוא נתונים
1. **ייבוא קובץ CSV**:
   - קליטת קובץ במבנה המוגדר (מספר תלמיד, שם משפחה, שם פרטי, רצועה ראשונה, רצועה שנייה)
   - בדיקת תקינות נתונים
   - אפשרות לצפייה בשינויים לפני אישור הייבוא
   - התראה על שינויים משמעותיים (הוספה/הסרה של תלמידים, שינויי שיוך לקורסים)

2. **מנגנון עדכון מחכים**:
   - עדכון רשימות תלמידים בקורסים
   - שמירה על היסטוריית נוכחות
   - טיפול בתלמידים שהוסרו או הועברו קורס

3. **ייצוא נתונים**:
   - ייצוא רשימות תלמידים לפי קורסים
   - ייצוא נתוני נוכחות לפי קורסים או תלמידים
   - פורמטים שונים (CSV, Excel, PDF)

### 3.5 הפקת דוחות
1. **דוחות נוכחות**:
   - דוח נוכחות לפי קורס ותאריך
   - דוח נוכחות מצטבר לקורס
   - דוח נוכחות אישי לתלמיד
   - דוח חריגי נוכחות (תלמידים עם אחוז היעדרות גבוה)
   - **דוח השוואת רצועות** - רשימת תלמידים שנכחו ברצועה 1 ולא נכחו ברצועה 2 בתאריך מסוים (כפתור ייעודי)

2. **סטטיסטיקות**:
   - אחוזי נוכחות לפי קורסים
   - מגמות נוכחות לאורך זמן
   - השוואת נוכחות בין קורסים

3. **התראות**:
   - התראות אוטומטיות על תלמידים עם היעדרויות מרובות
   - התראות למרצים על ירידה באחוזי נוכחות

### 3.6 מנגנון גישה למערכת
1. **סוגי גישה**:
   - מנהל מערכת (אדמין)
   - מורים (גישה אחידה)

2. **הרשאות**:
   - מנהל מערכת: גישה מלאה לכל המערכת, כולל העלאת קבצי CSV חדשים
   - מורים: גישה לצפייה וסימון נוכחות בכל הקורסים

3. **מנגנון הזדהות פשוט**:
   - סיסמה אחידה לכל המורים (ללא צורך בשם משתמש אישי)
   - סיסמה נפרדת למנהל המערכת
   - אפשרות לשינוי סיסמאות על ידי מנהל המערכת

## 4. דרישות טכניות

### 4.1 ממשק משתמש
1. **תמיכה בדפדפנים**:
   - תמיכה בדפדפנים עיקריים (Chrome, Firefox, Safari, Edge)
   - **אופטימיזציה מלאה למכשירים ניידים** - המערכת חייבת להיות מותאמת במיוחד לשימוש בטלפונים ניידים, מאחר והמורים משתמשים בהם לסימון נוכחות בתחילת השיעור
   - ממשק מותאם מסך מגע

2. **נגישות ושימושיות למובייל**:
   - כפתורים גדולים ונוחים ללחיצה במסך מגע
   - מינימום הקלדות וגלילות מסך
   - טעינה מהירה גם בחיבור אינטרנט סלולרי
   - אפשרות לסימון מהיר של נוכחות מרובה (לדוגמה: "כולם נוכחים" ואז סימון החריגים בלבד)

3. **שפה**:
   - ממשק בעברית (ברירת מחדל)
   - תמיכה בכיוון RTL
   - אפשרות להוספת שפות נוספות בעתיד

### 4.2 אבטחת מידע
1. **הזדהות ואימות**:
   - מנגנון התחברות פשוט ומאובטח
   - סיסמה אחידה לכל המורים
   - סיסמה נפרדת למנהל המערכת

2. **הרשאות**:
   - בקרת גישה פשוטה (מורה/מנהל)
   - גישה מהירה למורים לכל הקורסים
   - גישה מלאה למנהל המערכת כולל העלאת קבצי CSV

3. **אבטחת נתונים**:
   - הצפנת תעבורה (HTTPS)
   - הגנה מפני התקפות סייבר נפוצות (SQL Injection, XSS, CSRF)
   - אבטחה ברמה בסיסית המתאימה למערכת נוכחות פנים-ארגונית

4. **תיעוד**:
   - רישום פעולות בסיסי (מי ביצע שינויים בנוכחות)
   - רישום פעולות העלאת קבצי CSV

### 4.3 ביצועים וזמינות
1. **זמני תגובה**:
   - זמן תגובה מהיר (פחות מ-2 שניות)
   - אופטימיזציה לטעינת דפים

2. **זמינות**:
   - זמינות גבוהה (99.9% ומעלה)
   - מנגנוני גיבוי ושחזור

3. **יכולות**:
   - תמיכה ב-X משתמשים בו-זמנית
   - תמיכה ב-Y תלמידים במערכת
   - תמיכה ב-Z קורסים פעילים

### 4.4 ייבוא נתונים ואינטגרציה
1. **מבנה קובץ CSV**:
   - הגדרת מבנה קובץ תקני (שדות חובה, סדר שדות)
   - טיפול בשגיאות פורמט
   - תמיכה ב-UTF-8 לתווים בעברית

2. **תהליך ייבוא**:
   - בדיקות תקינות נתונים
   - זיהוי שינויים (תלמידים חדשים, שינויי קורסים)
   - לוג שינויים מפורט

3. **אינטגרציה**:
   - ממשק API לאינטגרציה עם מערכות חיצוניות
   - אפשרות לייבוא/ייצוא אוטומטי ממערכות ניהול אקדמיות קיימות

## 5. מבנה הנתונים

### 5.1 מודל נתונים
1. **טבלת תלמידים**:
   - מספר תלמיד (מפתח ראשי)
   - שם משפחה
   - שם פרטי
   - פרטי קשר (אופציונלי)
   - תאריך הוספה למערכת
   - סטטוס (פעיל/לא פעיל)

2. **טבלת קורסים**:
   - מזהה קורס (מפתח ראשי)
   - שם קורס
   - רצועה (1/2)
   - מרצה אחראי
   - תיאור
   - סטטוס (פעיל/לא פעיל)

3. **טבלת שיוך תלמידים לקורסים**:
   - מספר תלמיד (מפתח זר)
   - מזהה קורס (מפתח זר)
   - רצועה (1/2)
   - תאריך תחילת שיוך
   - תאריך סיום שיוך (אם רלוונטי)
   - סטטוס

4. **טבלת שיעורים**:
   - מזהה שיעור (מפתח ראשי)
   - מזהה קורס (מפתח זר)
   - תאריך ושעה
   - נושא (אופציונלי)
   - הערות

5. **טבלת נוכחות**:
   - מזהה נוכחות (מפתח ראשי)
   - מזהה שיעור (מפתח זר)
   - מספר תלמיד (מפתח זר)
   - סטטוס נוכחות (נוכח/חסר/איחור/יציאה מוקדמת)
   - הערות
   - זמן עדכון
   - מעדכן (מזהה משתמש)

6. **טבלת גישה למערכת**:
   - סוג גישה (מורה/מנהל)
   - סיסמה (מוצפנת)
   - תאריך עדכון סיסמה אחרון

### 5.2 מבנה קובץ CSV לייבוא
מבנה קובץ CSV לייבוא נתוני תלמידים וקורסים:
```
מס' תלמיד,משפחה,פרטי,רצועה ראשונה,רצועה שניה
123456789,ישראלי,ישראל,מבוא למדעי המחשב,אלגברה לינארית
987654321,כהן,משה,פיזיקה 1,חדוו"א 1
...
```

## 6. ממשק משתמש

### 6.1 מסכים עיקריים
1. **מסך התחברות**:
   - בחירה פשוטה בין "מורה" ו"מנהל מערכת"
   - שדה סיסמה בלבד (ללא שם משתמש)
   - כפתור כניסה למערכת

2. **מסך בחירת קורס וסימון נוכחות (מסך ראשי למורים)**:
   - שני תפריטי dropdown נפרדים - אחד לקורסי רצועה 1 ואחד לקורסי רצועה 2
   - שדה לבחירת תאריך
   - רשימת תלמידים עם כפתורי סימון נוכחות מותאמים למסך מגע
   - כפתורים לפעולות מהירות: "כולם נוכחים", "איפוס"
   - כפתור "שמור נוכחות"
   - כפתור צף לגישה מהירה לדוח השוואת רצועות

3. **מסך דוח השוואת רצועות**:
   - כפתור חזרה למסך הנוכחות
   - שדה לבחירת תאריך
   - כפתור "הפק דוח"
   - הצגת רשימת תלמידים שנכחו ברצועה 1 ולא נכחו ברצועה 2
   - כפתורי פעולה: "שיתוף", "הורדה"

4. **מסך ניהול מערכת (למנהל בלבד)**:
   - אזור להעלאת קובץ CSV חדש
   - אזור לעדכון סיסמאות (מורים ומנהל)
   - הצגת היסטוריית העלאות קבצים

### 6.2 רכיבי ממשק
1. **תפריט ראשי**:
   - קישורים למסכים עיקריים
   - התאמה לרמת הרשאות

2. **אזור חיפוש**:
   - חיפוש מהיר של תלמידים וקורסים
   - סינון תוצאות

3. **התראות**:
   - הצגת התראות חשובות למשתמש
   - צפייה בהיסטוריית התראות

4. **סרגל פעולות**:
   - פעולות נפוצות בהתאם למסך הנוכחי
   - קיצורי דרך לפעולות נפוצות

## 7. תהליכים עיקריים

### 7.1 תהליך סימון נוכחות (למורים)
1. המורה מתחבר למערכת באמצעות סיסמת המורים האחידה
2. נכנס ישירות למסך ניהול נוכחות
3. בוחר קורס מתפריט רצועה 1 או מתפריט רצועה 2
4. בוחר תאריך שיעור (היום או תאריך אחר)
5. מוצגת רשימת תלמידים הרשומים לקורס הנבחר
6. המורה מסמן נוכחות לכל תלמיד באמצעות לחיצה על כפתור עגול ליד שם התלמיד:
   - לחיצה ראשונה: סימון נוכחות (צבע ירוק עם סימן V)
   - לחיצה שנייה: סימון היעדרות (צבע אדום עם סימן X)
   - לחיצה שלישית: חזרה למצב לא מסומן (צבע אפור עם סימן שאלה)
7. אפשרות לסימון מהיר של כל התלמידים כנוכחים באמצעות כפתור "כולם נוכחים"
8. אפשרות לאיפוס כל הסימונים באמצעות כפתור "איפוס"
9. לחיצה על כפתור "שמור נוכחות" לשמירת הנתונים

### 7.2 תהליך ייבוא קובץ CSV (למנהל בלבד)
1. המנהל מתחבר למערכת באמצעות סיסמת מנהל
2. ניגש למסך ייבוא נתונים (גישה למנהל בלבד)
3. בוחר קובץ CSV מהמחשב
4. המערכת מנתחת את הקובץ ומציגה סיכום שינויים:
   - תלמידים חדשים שיתווספו
   - תלמידים שישויכו לקורסים שונים
   - תלמידים שיוסרו מקורסים
5. המנהל מאשר את השינויים
6. המערכת מבצעת את העדכונים בבסיס הנתונים
7. המערכת מציגה דוח סיכום על השינויים שבוצעו

### 7.3 תהליך הפקת דוח נוכחות
1. המשתמש נכנס למסך הפקת דוחות
2. בוחר סוג דוח (לפי קורס, לפי תלמיד, סטטיסטי)
3. מגדיר פרמטרים לדוח (תקופה, קורסים, תלמידים)
4. המערכת מפיקה את הדוח
5. המשתמש יכול לצפות בדוח, להדפיס או לייצא אותו

### 7.4 תהליך הפקת דוח השוואת רצועות
1. המורה לוחץ על כפתור צף (floating action button) עם סמל גרף בתחתית מסך הנוכחות
2. המערכת מעבירה את המורה למסך דוח השוואת רצועות
3. המורה בוחר תאריך רצוי (ברירת מחדל: התאריך הנוכחי)
4. לוחץ על כפתור "הפק דוח"
5. המערכת מציגה רשימת תלמידים שנכחו ברצועה 1 ולא נכחו ברצועה 2 באותו תאריך
6. המורה יכול לשתף את הדוח או להוריד אותו באמצעות הכפתורים בתחתית המסך
7. המורה יכול לחזור למסך הנוכחות באמצעות כפתור חזרה

## 8. דרישות נוספות

### 8.1 גיבוי ושחזור
1. גיבוי אוטומטי יומי של כל נתוני המערכת
2. שמירת היסטוריית גיבויים ל-X ימים אחורה
3. מנגנון לשחזור מגיבוי במקרה של תקלה
4. יכולת לבצע גיבוי ידני לפני ביצוע שינויים משמעותיים

### 8.2 אבטחת איכות
1. בדיקות יחידה (Unit Tests) לרכיבי המערכת
2. בדיקות אינטגרציה להבטחת תקינות הממשקים
3. בדיקות עומסים להבטחת ביצועים תחת עומס
4. בדיקות אבטחה להבטחת הגנה על הנתונים

### 8.3 תחזוקה ותמיכה
1. תיעוד מלא של המערכת למפתחים ולמשתמשים
2. מנגנון לדיווח על תקלות וטיפול בהן
3. עדכונים תקופתיים למערכת (שיפורים ותיקוני באגים)
4. מדדי SLA לזמני תגובה וטיפול בתקלות

## 9. שלבי פיתוח והטמעה

### 9.1 שלבי פיתוח
1. **שלב 1 - אפיון מפורט**:
   - אישור מסמך האפיון
   - עיצוב ממשק משתמש
   - תכנון בסיס הנתונים

2. **שלב 2 - פיתוח בסיסי**:
   - פיתוח תשתית המערכת
   - פיתוח ניהול תלמידים וקורסים
   - פיתוח מנגנון ייבוא/ייצוא

3. **שלב 3 - פיתוח מתקדם**:
   - פיתוח ניהול נוכחות
   - פיתוח מערכת דוחות
   - פיתוח ניהול משתמשים והרשאות

4. **שלב 4 - בדיקות**:
   - בדיקות פונקציונליות
   - בדיקות אבטחה
   - בדיקות ביצועים

5. **שלב 5 - הטמעה**:
   - הדרכת משתמשים
   - העברת נתונים ראשונית
   - עלייה לאוויר בסביבת ייצור

### 9.2 לוח זמנים משוער
1. אפיון מפורט: X שבועות
2. פיתוח בסיסי: Y שבועות
3. פיתוח מתקדם: Z שבועות
4. בדיקות: W שבועות
5. הטמעה: V שבועות

סה"כ זמן פיתוח משוער: XX שבועות

## 10. סיכום והמלצות

### 10.1 יתרונות המערכת
1. ניהול יעיל של נוכחות תלמידים בקורסים
2. ממשק מותאם במיוחד למכשירים ניידים לסימון נוכחות מהיר בתחילת השיעור
3. עדכון פשוט ומהיר באמצעות קבצי CSV
4. גמישות בניהול קורסים ברצועות שונות
5. דוח ייעודי לזיהוי תלמידים שנכחו ברצועה 1 ולא נכחו ברצועה 2
6. פשטות שימוש עם סיסמה אחידה למורים וגישה למנהל להעלאת קבצים
7. מידע זמין ונגיש למרצים ולצוות האדמיניסטרטיבי
8. הפקת דוחות ותובנות לשיפור תהליכי הלמידה

### 10.2 המלצות לשלב הבא
1. אישור האפיון ותקצוב הפרויקט
2. בחירת טכנולוגיות הפיתוח
3. הקמת צוות פיתוח והגדרת תכנית עבודה מפורטת
4. פיתוח אב-טיפוס (Prototype) לקבלת משוב מוקדם
5. תכנון מפורט של תהליך ההטמעה והדרכת המשתמשים

## 11. נספחים

### 11.1 מילון מונחים
- **רצועה** - חלוקה של מערכת השעות לשתי קטגוריות עיקריות (רצועה ראשונה ורצועה שנייה)
- **קורס** - יחידת לימוד המשויכת לרצועה מסוימת
- **נוכחות** - רישום השתתפות תלמיד בשיעור מסוים
- **ייבוא CSV** - תהליך עדכון נתוני תלמידים וקורסים באמצעות קובץ במבנה מוגדר

### 11.2 דוגמאות למסכי המערכת
תרשימים ודוגמאות למסכי המערכת העיקריים יצורפו בהמשך לאחר שלב העיצוב.

### 11.3 דוגמאות לקבצי CSV
דוגמה לקובץ CSV לייבוא:
```
מס' תלמיד,משפחה,פרטי,רצועה ראשונה,רצועה שניה
123456789,ישראלי,ישראל,מבוא למדעי המחשב,אלגברה לינארית
987654321,כהן,משה,פיזיקה 1,חדוו"א 1
...
```